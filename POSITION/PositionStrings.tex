% !TeX spellcheck = en_US
% !TeX root = ../m3Handout.tex
% !TeX encoding = UTF-8


\begin{definition}
$
	\PosStr(t) =  
	\begin{cases}
\pause		\{ \ANGLES{\epsilon,x} \} & \text{if }t=x\in\SIGV \\
\pause		\{ \ANGLES{\epsilon, f} \} \cup \{ \ANGLES{ip,s}\mid \ANGLES{p,s} \in\PosStr(t_i)\} &
		\text{if }t=f(t_1,\ldots,t_n)
	\end{cases}
$
\end{definition}

%
\pause
\begin{block}{Term traversals}
	\vspace{-0.5em}
\begin{minipage}[c]{3cm}
\begin{tikzpicture}[right]
\onslide<5->{\node (h) at (0,-1) {$\ANGLES{\epsilon,\mh}$};}
\onslide<6->{\node (hf) at (0,-2) {$\ANGLES{1,\mf}$};}
\onslide<7->{\node (hfa) at (-1,-3) {$\ANGLES{11,\ma}$};}
\onslide<8->{\node (hfy) at (1,-3) {$\ANGLES{12,y}$};}
%
\onslide<9->{\path[->,dashed] 
	 (h) edge (hf)
	(hf) 
		edge (hfy) 
;}
\onslide<10>{\path[->,dotted, bend right] 
	(h) edge (hf)
	(hf) edge (hfa) 
	(hfa) edge[bend left] (hfy)
	;}
\end{tikzpicture}
\end{minipage}
%
\begin{minipage}[c]{8.5cm}
	\begin{gather*}
		\onslide<4->{
			\PosStr(\mh(\mf(\ma,\my))) = \{ 
		\onslide<5->{ \ANGLES{\epsilon,\mh}, 
			}}
		\onslide<6->{ \ANGLES{1,\mf}, }
		\onslide<7->{ \ANGLES{11,\ma}, }
		\onslide<8->{ \ANGLES{12,y} }
		\} \\[2em]
		\onslide<9->{\ANGLES{\epsilon,\mh}\ANGLES{1,\mf}\ANGLES{12,y}
			\tag*{\onslide<9->{path from root to leaf}} 
			%\tag{$\mh 1 \mf 2 y$}
		}			\\
		\onslide<10->{\ANGLES{\epsilon,\mh}\ANGLES{1,\mf}\ANGLES{11,\ma}\ANGLES{12,y}
			\tag*{\onslide<10->{pre-order traversal}} 
		}
		\\
	\end{gather*}
\end{minipage}
\end{block}
